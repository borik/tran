{"version":3,"sources":["js/es6/utils.js"],"names":[],"mappings":";;;;;;;IAAM,KAAK;AACG,WADR,KAAK,GACM,EAAE;;uBADb,KAAK;AAET,WAAO;aAAC,iBAAC,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE;;AAExB,eAAO,IAAI,OAAO,CAAC,UAAS,OAAO,EAAE,MAAM,EAAE;;AAE3C,cAAI,GAAG,GAAG,IAAI,cAAc,EAAE,CAAC;AAC/B,aAAG,CAAC,eAAe,GAAG,IAAI,CAAC;AAC3B,aAAG,CAAC,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;AACpB,cAAI,IAAI,IAAI,MAAM,EAAE;AAClB,eAAG,CAAC,gBAAgB,CAAC,cAAc,EAAE,kBAAkB,CAAC,CAAC;WAC1D;AACD,aAAG,CAAC,MAAM,GAAG,YAAW;;;AAGtB,gBAAI,GAAG,CAAC,MAAM,IAAI,GAAG,EAAE;;AAErB,qBAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;aACvB,MACI;;;AAGH,oBAAM,CAAC,KAAK,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC;aAC/B;WACF,CAAC;;;AAGF,aAAG,CAAC,OAAO,GAAG,YAAW;AACvB,kBAAM,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC,CAAC;WAChC,CAAC;;;AAGF,cAAI,IAAI,CAAC,OAAO,EAAE;iCACA,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;kBAAhC,GAAG;AACV,iBAAG,CAAC,gBAAgB,CAAC,GAAG,EAAE,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC;;WAEhD;;AAED,aAAG,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;SACrC,CAAC,CAAC;OACJ;;;;;AACD,OAAG;aAAA,aAAC,GAAG,EAAkB;YAAhB,IAAI,gCAAC,EAAC,IAAI,EAAC,EAAE,EAAC;AACrB,eAAO,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;OACvC;;;;;AAED,QAAI;aAAA,cAAC,GAAG,EAAkB;YAAhB,IAAI,gCAAC,EAAC,IAAI,EAAC,EAAE,EAAC;AACtB,eAAO,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;OACxC;;;;;;;SA/CG,KAAK;;;AAiDX,MAAM,CAAC,OAAO,GAAG,IAAI,KAAK,EAAE,CAAA","file":"js/es6/utils.js","sourcesContent":["class Utils {\n  constructor () {}\n  request (type, url, opts) {\n    // Return a new promise.\n    return new Promise(function(resolve, reject) {\n      // Do the usual XHR stuff\n      var req = new XMLHttpRequest();\n      req.withCredentials = true;\n      req.open(type, url);\n      if (type == 'POST') {\n        req.setRequestHeader(\"Content-Type\", \"application/json\");\n      }\n      req.onload = function() {\n        // This is called even on 404 etc\n        // so check the status\n        if (req.status == 200) {\n          // Resolve the promise with the response text\n          resolve(req.response);\n        }\n        else {\n          // Otherwise reject with the status text\n          // which will hopefully be a meaningful error\n          reject(Error(req.statusText));\n        }\n      };\n\n      // Handle network errors\n      req.onerror = function() {\n        reject(Error(\"Network Error\"));\n      };\n\n      // Set headers\n      if (opts.headers) {\n        for (let key of Object.keys(opts.headers)) {\n          req.setRequestHeader(key, opts.headers[key]);\n        }\n      }\n      // Make the request\n      req.send(JSON.stringify(opts.data));\n    });\n  }\n  get(url, opts={data:''}) {\n    return this.request('GET', url, opts);\n  }\n\n  post(url, opts={data:''}) {\n    return this.request('POST', url, opts);\n  }\n}\nmodule.exports = new Utils()\n"]}